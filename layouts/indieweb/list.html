{{ define "main" }}
{{ if isset .Data "Term" }}
<h1>Entries tagged - "{{ .Data.Term }}"</h1>
{{ else }}
<h1 class="page-title">{{ .Title }}</h1>
{{ end }}
{{ if isset .Params "tldr" }}
<div class="tldr">
	<strong>tl;dr:</strong>
	{{ .Params.tldr }}
</div>{{ end }}
<ul class="posts">
	{{- range .Data.Pages -}}
		{{- if (not (in (.Site.Params.excludedTypes | default (slice "page")) .Type)) -}}
		<li class="post">
			{{ if in .Params.category "Bahasa Melayu"}}	[MS] {{ else }} [EN] {{ end }}
			{{ if .Params.externalLink}}
				<a href="{{ .Params.externalLink}}" target="_blank">{{.Title | truncate 45 "..." }}</a>
			<!-- hack -->
			{{  else if .Params.mfbookmark }}
					<a href="{{ .RelPermalink }}">â­ï¸ Bookmarked: {{ .Params.mfbookmark | truncate 45}}</a>
			{{ else if .Params.mfrepostof }}
					<a href="{{ .RelPermalink }}">â™»ï¸ Repost: {{ .Params.mfrepostof | truncate 45}}</a>
			{{ else if .Params.mflikeof }}
					<a href="{{ .RelPermalink }}">ğŸ‘ Liked: {{ .Params.mflikeof | truncate 45}}</a>
			{{ else if .Params.mfreplyto }}
					<a href="{{ .RelPermalink }}">â†©ï¸ Reply to: {{ .Params.mfreplyto | truncate 45}}</a>
			{{ else if .Params.rsvpValue }}
					<a href="{{ .RelPermalink }}">ğŸ“… RSVP: {{ .Params.rsvpEventName | truncate 45}}</a>
			{{ else if .Params.mfquotationof }}
					<a href="{{ .RelPermalink }}">ğŸ’¬ Quote of: {{ .Params.mfquotationof | truncate 45}}</a>
			{{ else if and (eq .Params.webmentionType "note") (eq .Params.webmentionTypeNoteType "status") }}
					<a href="{{ .RelPermalink }}">â˜‚ï¸ Status: {{ .Title | truncate 45}}</a>
			{{ else if and (eq .Params.webmentionType "note") (eq .Params.webmentionTypeNoteType "question") }}
					<a href="{{ .RelPermalink }}">ğŸ™‹â€â™‚ï¸ Question: {{ .Title | truncate 45}}</a>
			{{ else }}
				<a href="{{ .RelPermalink }}">something wrong!</a>
			{{ end }}
			<span class="meta" style="float: right;">{{ dateFormat "Jan 2, 2006" .Date }}{{ if .Draft }} <span class="draft-label">DRAFT</span> {{ end }}</span>
		</li>
		{{- end -}}
	{{- end -}}
</ul>
{{ end }}
